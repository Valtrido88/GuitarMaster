:root {
  --bg: #0f1221;
  --panel: #1b1f36;
  --text: #e8eaf6;
  --accent: #6ee7ff;
  --accent2: #ffc46e;
}
* { box-sizing: border-box; }
body { margin: 0; font-family: system-ui, sans-serif; background: var(--bg); color: var(--text); }
.background-image::before { content:""; position: fixed; inset: 0; z-index: -2; background:
  linear-gradient(0deg, rgba(5,6,14,0.85), rgba(5,6,14,0.85)),
  url('assets/bg.jpg'),
  url('https://images.unsplash.com/photo-1518977676601-b53f82aba655?auto=format&fit=crop&w=1600&q=80');
  background-size: cover, cover, cover; background-position: center, center, center; filter: saturate(1.1);
}
.background-noimage::before { content:""; position: fixed; inset: 0; z-index: -2; background:
  radial-gradient(1200px 800px at 20% 80%, #1b203f 0%, transparent 60%),
  radial-gradient(1000px 700px at 80% 20%, #2a2f58 0%, transparent 60%),
  linear-gradient(0deg, rgba(5,6,14,0.85), rgba(5,6,14,0.85));
}
.background-overlay { position: fixed; inset: 0; z-index: -1; pointer-events: none; backdrop-filter: blur(1px) brightness(0.95); }
.topbar { display: flex; align-items: center; gap: 16px; padding: 12px 16px; background: #12152a; position: sticky; top:0; z-index: 10; }
.posters-wall { display: grid; grid-auto-flow: column; grid-auto-columns: 180px; gap: 16px; padding: 16px; overflow-x: auto; scrollbar-width: thin; }
.poster { position: relative; background: rgba(18,21,42,0.75); border: 2px solid #2e3358; border-radius: 12px; box-shadow: 0 6px 20px rgba(0,0,0,0.35); padding: 8px; transform: rotate(-1deg); }
.poster:nth-child(2n) { transform: rotate(1.5deg); }
.poster img { width: 100%; height: auto; border-radius: 8px; display: block; }
.poster figcaption { text-align: center; font-size: 12px; color: #c9cfee; margin-top: 6px; }
.posters-wall::before { content:"Galería"; position: absolute; left: 24px; margin-top: -8px; font-size: 12px; color: #7a80a8; }
.mode-map { display: grid; grid-template-columns: repeat(3, 1fr); grid-auto-rows: minmax(120px, auto); gap: 16px; padding: 16px; }
.mode-tile { position: relative; padding: 16px; border: 1px solid #2e3358; border-radius: 12px; background: rgba(18, 21, 42, 0.7); color: var(--text); cursor: pointer; transition: transform .1s ease, border-color .2s ease; }
.mode-tile:hover { transform: translateY(-2px); border-color: var(--accent); }
.mode-tile h3 { margin: 0 0 6px 0; font-size: 16px; }
.mode-tile p { margin: 0; font-size: 12px; color: #aab1d6; }

@media (max-width: 900px) { .mode-map { grid-template-columns: repeat(2, 1fr); } }
@media (max-width: 600px) { .mode-map { grid-template-columns: 1fr; } }
.topbar h1 { margin: 0; font-size: 20px; }
.nav { display: flex; flex-wrap: wrap; gap: 8px; }
.nav-btn { background: var(--panel); color: var(--text); border: 1px solid #2e3358; padding: 8px 10px; border-radius: 6px; cursor: pointer; }
.nav-btn.active { border-color: var(--accent); color: var(--accent); }
main { padding: 16px; }
.view { display: none; }
.view.visible { display: block; }
.grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 12px; align-items: end; }
label { display: flex; flex-direction: column; gap: 6px; font-size: 14px; }
input, select, textarea, button { background: var(--panel); color: var(--text); border: 1px solid #2e3358; border-radius: 6px; padding: 8px; }
button { cursor: pointer; }
.card { background: var(--panel); border: 1px solid #2e3358; border-radius: 8px; padding: 12px; margin-top: 12px; }
.card.success { border-color: #2bb673; color: #2bb673; }
.card.warn { border-color: #ffc46e; color: #ffc46e; }
.card.error { border-color: #ff7b7b; color: #ff7b7b; }
.list { list-style: none; padding: 0; margin: 0; }
.list li { display:flex; justify-content: space-between; align-items:center; gap:8px; padding:8px; border:1px solid #2e3358; border-radius:6px; margin-bottom:8px; background:#141733; }
.list li .meta { font-size: 12px; color:#aab1d6; }
.list li .title { font-weight: 600; }
.list li button.use-btn { padding:6px 10px; }
.footer { padding: 16px; text-align: center; color: #9aa0c2; }

/* Metrónomo */
.metro-visual { height: 18px; background: #2e3358; border-radius: 9px; overflow: hidden; margin-top: 12px; position: relative; }
.metro-visual::after { content:""; position:absolute; left:0; top:0; bottom:0; width:0%; background: linear-gradient(90deg, var(--accent), var(--accent2)); transition: width 0.02s linear; }

/* Afinador */
.tuner { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; align-items: center; }
.needle { height: 140px; background: conic-gradient(from 180deg at 50% 100%, #ff7b7b, #ffd77b, #7bff9b); border-radius: 12px; position: relative; }
.needle::after { content:""; position:absolute; left:50%; bottom: 8px; width: 3px; height: 120px; background: #fff; transform-origin: bottom; transform: rotate(0deg); transition: transform 0.08s ease-out; }
.tuner-info { font-size: 15px; display: grid; gap: 6px; }

/* Karaoke */
.lyrics { margin-top: 12px; display: grid; gap: 6px; }
.lyrics-line { padding: 8px; border-radius: 6px; background: #151836; border: 1px solid #262b50; opacity: 0.7; }
.lyrics-line.active { border-color: var(--accent); color: var(--accent); opacity: 1; }
